INSTALL instructions for
Radar Analysis and Visualization Environment
  R  A  V  E

Anders Henja and Daniel Michelson
Swedish Meteorological and Hydrological Institute

December 2010

Before installing RAVE, a number of modules/software packages have to be
installed.
- ZLIB (optional)
- Tcl and Tk 8.5.5
- Python 2.6 final
- Numeric Python (NumPy) 1.2.1
- Python Imaging Library 1.1.6
- HDF5 1.8.x
- HLHDF/PyHL 0.7+
- PycURL 7.19+ (and underlying cURL)

We have also got optional support for C-based handling 
of area and projection registries. If this is wanted, you 
will need to have.
- expat 2.0.1

The README file contains more details about these packages.

If these packages have been installed and set up correctly including
ensuring that numpy and _pyhl can be found when importing from Python,
then you can perform the following.
$ python
>>> import numpy
>>> import _pyhl

Some minor configuration changes can be made.
To activate memory debugging of RAVE: CFLAGS=-DRAVE_MEMORY_DEBUG

Three environment variables are required to find RAVE dependencies. 
1. RAVE installation directory (default is /opt/rave):
$ export RAVEROOT=<install dir>

2. NumPy headers, e.g. for a Python distribution installed under /usr/local:
$ export NUMPYDIR=/usr/local/lib/python2.6/site-packages/numpy/core/include/numpy

3. HL-HDF installation, e.g. normal place for BALTRAD:
$ export HLDIR=/opt/baltrad/hlhdf

4. (OPTIONAL) expat
The default behaviour is to not build with expat support. The environment variable
EXPATARG can be used to modify the arguments passed to the configure scripts
and can be one of
$ export EXPATARG=<inc>,<lib>
or
$ export EXPATARG=<expatroot>
or
$ export EXPATARG=yes
or
$ export EXPATARG=no

To modify memory debugging configuration options, specify the parameters before
running make, for example:
$ CFLAGS=-DRAVE_MEMORY_DEBUG RAVEROOT=/opt/testbuilds/rave make

It is possible to install the software at the same time it is built, but
unless you are certain that everything will go well, first build, then
test, and then finally install the software.
$ make
$ make test
$ make install

or, if you are brave, just

$ make install

When RAVE is installed, you should add $RAVEROOT/bin to your $PATH.

Building the documentation system requires that doxygen is installed. If
you have doxygen, then:

$ make doc

The documentation will be generated to ./doxygen/doxygen/html and latex
directories.
